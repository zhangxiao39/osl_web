<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>

<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<title>商家列表</title>

<link th:href="@{/css/bootstrap.min.css}" rel="stylesheet" />
<link th:href="@{/css/plugins/sweetalert/sweetalert.css}"
	rel="stylesheet" />
<link th:href="@{/font-awesome/css/font-awesome.css}" rel="stylesheet" />
<link th:href="@{/css/style.css}" rel="stylesheet" />

<link th:href="@{/css/plugins/iCheck/custom.css}" rel="stylesheet" />
<link th:href="@{/css/plugins/footable/footable.core.css}"
	rel="stylesheet" />

</head>

<body>

	<div id="wrapper">
		<nav class="navbar-default navbar-static-side" role="navigation"
			th:include="/w/nav :: navigation"></nav>
		<div id="page-wrapper" class="gray-bg">
			<div class="border-bottom" th:include="/w/header :: headerTop"></div>
			<div class="row wrapper border-bottom white-bg page-heading"
				th:fragment="headerNav">
				<div class="col-lg-10">
					<h2>商家列表</h2>
					<ol class="breadcrumb">
						<li><a href="#">首页</a></li>
						<li><a>商家管理</a></li>
						<li class="active"><strong>商家列表</strong></li>
					</ol>
				</div>
				<div class="col-lg-2"></div>
			</div>

			<div class="wrapper wrapper-content animated fadeInRight">
				<div class="row">
					<div class="col-lg-12">
						<div class="ibox float-e-margins">
							<div class="ibox-title">
								<h5>搜索&amp;操作</h5>
								<div class="ibox-tools">
									<a class="collapse-link"> <i class="fa fa-chevron-up"></i>
									</a>
								</div>
							</div>
							<div class="ibox-content" style="display: block;">
								<button type="button" class="btn btn-primary"
									data-toggle="modal" data-target="#myModal">添加商家</button>
							</div>
						</div>
					</div>
					<div class="col-lg-12">
						<div class="ibox float-e-margins">
							<div class="ibox-title">
								<h5>商家列表</h5>
								<div class="ibox-tools">
									<a class="collapse-link"> <i class="fa fa-chevron-up"></i>
									</a>
								</div>
							</div>
							<div class="ibox-content">
								<table
									class="table table-striped table-bordered table-hover dataTables-example">
									<thead>
										<tr>
											<th>#</th>
											<th>商家名称</th>
											<th>商家等级</th>
											<th>地址</th>
											<th>邮编</th>
											<th>电话</th>
											<th>传真</th>
											<th>邮箱</th>
											<th>联系人</th>
											<th>关系状态</th>
											<th>操作</th>
										</tr>
									</thead>
									<tbody>
										<tr th:each="b,bIndex:${item}">
											<td th:text="${bIndex.count}">1</td>
											<td th:text="${b.name}">JNH</td>
											<td th:text="${b.gradeName}">default</td>
											<td th:text="${b.address}">东京都*****</td>
											<td th:text="${b.postcode}">000-0000</td>
											<td th:text="${b.tele}">8965-8974-965</td>
											<td th:text="${b.tax}">6358-9865-548</td>
											<td th:text="${b.email}">kanenka@yahoo.co.jp</td>
											<td th:text="${b.contacts}">李四</td>
											<td th:text="${b.shipText}"></td>
											<td>
												<button class="btn btn-info btn-xs dropdown-toggle"
													type="button" data-toggle="modal" data-target="#myModal"
													th:onclick="|javascript:showInfo(${b.id})|">
													<i class="fa fa-edit"></i>编辑
												</button>
												<button type="button" class="btn btn-info btn-xs dropdown-toggle" data-toggle="modal" data-target="#adminModal"
													th:if="!${b.userId}" th:onclick="|javascript:addAdmin(${b.id})|">
													<i class="fa fa-edit"></i>添加管理员
												</button>
												<button type="button" class="btn btn-info btn-xs"
													th:if="${b.ship} eq 1" th:onclick="|javascript:relieveShip(${b.id})|">
													<i class="fa fa-edit"></i>解除关联
												</button>
												<button type="button" class="btn btn-info btn-xs"
													th:if="${b.ship} eq 0" th:onclick="|javascript:relationShip(${b.id})|">
													<i class="fa fa-edit"></i>关联
												</button>
												<button type="button" class="btn btn-info btn-xs"
													th:if="${b.ship} eq 2" th:onclick="|javascript:recoveryShip(${b.id})|">
													<i class="fa fa-edit"></i>恢复关联
												</button>
												<button class="btn btn-danger btn-xs dropdown-toggle"
													type="button" onClick="check(1)">
													<i class="fa fa-trash"></i>删除
												</button>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="footer" th:include="/w/footer :: copyright"></div>
		</div>
	</div>

	<div class="modal inmodal" id="myModal" tabindex="-1" role="dialog"
		aria-hidden="true" style="display: none;">
		<div class="modal-dialog">
			<div class="modal-content animated bounceInRight">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">
						<span aria-hidden="true">×</span><span class="sr-only">Close</span>
					</button>
					<h4 class="modal-title">商家信息</h4>
				</div>
				<div class="modal-body">
					<form class="form-horizontal" name="myform" id="myform">
						<div class="form-group">
							<label class="col-lg-3 control-label">名称</label>
							<div class="col-lg-9">
								<input type="text" placeholder="请输入名称" class="form-control"
									name="name" id="name"> <input type="hidden"
									name="businessId" th:value="${session.u_bid}"> <input
									type="hidden" name="id" value="0" id="id"> <input
									type="hidden" name="mode" value="POST" id="mode">
							</div>
						</div>
						<div class="form-group">
							<label class="col-lg-3 control-label">等级</label>
							<div class="col-lg-9">
								<select name="gradeId" id="gradeId" class="form-control">
									<option value="1" selected="">Default</option>
									<option th:each="g:${item_grade}" th:value="${g.id}"
										th:text="${g.name}">default</option>
								</select>
							</div>
						</div>
						<div class="form-group">
							<label class="col-lg-3 control-label">地址</label>
							<div class="col-lg-9">
								<input type="text" placeholder="请输入地址" class="form-control"
									name="address" id="address">
							</div>
						</div>
						<div class="form-group">
							<label class="col-lg-3 control-label">邮编</label>
							<div class="col-lg-9">
								<input type="text" placeholder="请输入邮编" class="form-control"
									name="postcode" id="postcode">
							</div>
						</div>
						<div class="form-group">
							<label class="col-lg-3 control-label">电话</label>
							<div class="col-lg-9">
								<input type="text" placeholder="请输入电话" class="form-control"
									name="tele" id="tele">
							</div>
						</div>
						<div class="form-group">
							<label class="col-lg-3 control-label">传真</label>
							<div class="col-lg-9">
								<input type="text" placeholder="请输入传真" class="form-control"
									name="tax" id="tax">
							</div>
						</div>
						<div class="form-group">
							<label class="col-lg-3 control-label">邮箱</label>
							<div class="col-lg-9">
								<input type="email" placeholder="请输入邮箱" class="form-control"
									name="email" id="email">
							</div>
						</div>
						<div class="form-group">
							<label class="col-lg-3 control-label">联系人</label>
							<div class="col-lg-9">
								<input type="text" placeholder="请输入联系人" class="form-control"
									name="contacts" id="contacts">
							</div>
						</div>
						<div class="form-group">
							<label class="col-lg-3 control-label">URL</label>
							<div class="col-lg-9">
								<input type="text" placeholder="请输入URL" class="form-control"
									name="url" id="url">
							</div>
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-white" data-dismiss="modal">关闭</button>
					<button type="button" class="btn btn-primary" id="btn_submit">确认保存</button>
				</div>
			</div>
		</div>
	</div>
	
	<div class="modal inmodal" id="adminModal" tabindex="-1" role="dialog"
		aria-hidden="true" style="display: none;">
		<div class="modal-dialog">
			<div class="modal-content animated bounceInRight">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">
						<span aria-hidden="true">×</span><span class="sr-only">Close</span>
					</button>
					<h4 class="modal-title">添加管理员</h4>
				</div>
				<div class="modal-body">
					<form class="form-horizontal" name="adminform" id="adminform" method="POST">
						<div class="form-group">
							<label class="col-lg-3 control-label">ID</label>
							<div class="col-lg-9">
								<input type="text" placeholder="请输入名称" class="form-control"
									name="userId" id="userId">
									 <input type="hidden"
									name="businessId" value="" id="businessId_admin">
							</div>
						</div>
						<div class="form-group">
							<label class="col-lg-3 control-label">名称</label>
							<div class="col-lg-9">
								<input type="text" placeholder="请输入地址" class="form-control"
									name="username" id="username">
							</div>
						</div>
						<div class="form-group">
							<label class="col-lg-3 control-label">密码</label>
							<div class="col-lg-9">
								<input type="password" placeholder="请输入员工密码"
									class="form-control" required="" name="password" id="password">
							</div>
						</div>
						<div class="form-group">
							<label class="col-lg-3 control-label">确认密码</label>
							<div class="col-lg-9">
								<input type="password" placeholder="请输入确认密码"
									class="form-control" required="" name="repassword" id="repassword">
							</div>
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-white" data-dismiss="modal">关闭</button>
					<button type="button" class="btn btn-primary" id="btn_submit_admin">确认保存</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Mainly scripts -->
	<script th:src="@{/js/jquery-3.1.1.min.js}"></script>

	<script th:src="@{/js/bootstrap.min.js}"></script>
	<script th:src="@{/js/plugins/sweetalert/sweetalert.min.js}"></script>
	<script th:src="@{/js/plugins/metisMenu/jquery.metisMenu.js}"></script>
	<script th:src="@{/js/plugins/slimscroll/jquery.slimscroll.min.js}"></script>

	<script th:src="@{/js/jquery.validate.min.js}"></script>

	<!-- Peity -->
	<script th:src="@{/js/plugins/peity/jquery.peity.min.js}"></script>

	<!-- Custom and plugin javascript -->
	<script th:src="@{/js/inspinia.js}"></script>
	<script th:src="@{/js/plugins/pace/pace.min.js}"></script>

	<!-- iCheck -->
	<script th:src="@{/js/plugins/iCheck/icheck.min.js}"></script>

	<!-- Peity -->
	<script th:src="@{/js/demo/peity-demo.js}"></script>

	<!-- FooTable -->
	<script th:src="@{/js/plugins/footable/footable.all.min.js}"></script>

	<!-- common -->
	<script th:src="@{/js/common.js}"></script>
	<script th:src="@{/js/user/business.js}"></script>

	<script th:inline="javascript">
		
	</script>

</body>

</html>
