<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>

<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<title>入库明细</title>

<link th:href="@{/css/bootstrap.min.css}" rel="stylesheet" />
<link th:href="@{/css/plugins/sweetalert/sweetalert.css}"
	rel="stylesheet" />

<!-- Data Tables -->
<link th:href="@{/css/bootstrap-select.css}"
	rel="stylesheet">
	
<!-- select data -->
<link th:href="@{/css/plugins/dataTables/datatables.min.css}"
	rel="stylesheet">

<link th:href="@{/font-awesome/css/font-awesome.css}" rel="stylesheet" />
<link th:href="@{/css/style.css}" rel="stylesheet" />

<link th:href="@{/css/plugins/iCheck/custom.css}" rel="stylesheet" />
<link th:href="@{/css/plugins/footable/footable.core.css}"
	rel="stylesheet" />

</head>

<body>

	<div id="wrapper">
		<nav class="navbar-default navbar-static-side" role="navigation"
			th:include="/w/nav :: navigation"></nav>
		<div id="page-wrapper" class="gray-bg">
			<div class="border-bottom" th:include="/w/header :: headerTop"></div>
			<div class="row wrapper border-bottom white-bg page-heading"
				th:fragment="headerNav">
				<div class="col-lg-10">
					<h2>入库明细</h2>
					<ol class="breadcrumb">
						<li><a href="#">首页</a></li>
						<li><a>库存管理</a></li>
						<li class="active"><strong>入库明细</strong></li>
					</ol>
				</div>
				<div class="col-lg-2"></div>
			</div>

			<div class="wrapper wrapper-content animated fadeInRight">
				<div class="row">
					<div class="col-lg-12">
						<div class="ibox float-e-margins">
							<div class="ibox-title">
								<h5>搜索&amp;操作</h5>
								<div class="ibox-tools">
									<a class="collapse-link"> <i class="fa fa-chevron-up"></i>
									</a>
								</div>
							</div>
							<div class="ibox-content" style="display: block;">
								<div class="row">
									<div class="col-sm-12">
										<div class="form-group z_mb0">
											<button type="button" class="btn btn-primary"
												onclick="history.go(-1);">返回一览</button>
											<button type="button" class="btn btn-success"
											 data-toggle="modal" data-target="#myModal">追加入库</button>
											<button type="button" class="btn btn-success"
											 data-toggle="modal" data-target="#myModal" onclick="wNewInputDetail()">新建入库</button>											 
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="col-lg-12">
						<div class="ibox float-e-margins">
							<div class="ibox-title">
								<h5>入库明细</h5>
								<div class="ibox-tools">
									<a class="collapse-link"> <i class="fa fa-chevron-up"></i>
									</a>
								</div>
							</div>
							<div class="ibox-content">
								<div class="table-responsive">
									<table
										class="table table-striped table-bordered table-hover dataTables-example">
										<thead>
											<tr>
												<th>#</th>
												<th>商家</th>
												<th>明细ID</th>
												<th>SKU</th>
												<th>分类</th>
												<th>名称</th>
												<th>入库数量</th>
												<th>仓库位置</th>
												<th>入库ID</th>
												<th>商品类型</th>
												<th>入库类型</th>
												<th>有效期</th>
												<th>状态</th>
												<th>操作</th>
											</tr>
										</thead>
										<tbody>
											<tr th:each="p,pIndex:${item}">
												<td th:text="${pIndex.count}"></td>
												<td th:text="${p.businessName}"></td>
												<td th:text="${p.detailId}"></td>
												<td th:text="${p.sku}"></td>
												<td th:text="${p.goodscategoryName}"></td>
												<td th:text="${p.goodsName}"></td>
												<td th:text="${p.nums}"></td>
												<td th:text="${p.depotAddress}"></td>
												<td th:text="${p.inputId}"></td>
												<td th:text="${p.goodsType}"></td>
												<td th:text="${p.type}"></td>
												<td th:text="${#dates.format(p.validityTime, 'yyyy-MM-dd HH:mm:ss')}"></td>
												<td th:text="${p.status == 1 ? '入库完了' : '入库中'}"></td>
												<td>
													<button class="btn btn-info btn-xs dropdown-toggle"
														type="button" data-toggle="modal" data-target="#myModal"
														onclick="edit__sheves('1');">
														<i class="fa fa-edit"></i>修改
													</button>
													<button class="btn btn-danger btn-xs dropdown-toggle"
														type="button" onClick="check(1)">
														<i class="fa fa-trash"></i>删除
													</button>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="footer" th:include="/w/footer :: copyright"></div>
		</div>
	</div>

	<div class="modal inmodal" id="myModal" tabindex="-1" role="dialog"
		aria-hidden="true" style="display: none;">
		<div class="modal-dialog">
			<div class="modal-content animated bounceInRight">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">
						<span aria-hidden="true">×</span><span class="sr-only">Close</span>
					</button>
					<h4 class="modal-title">商品入库</h4>
				</div>
				<div class="modal-body">
					<form id="myform" class="form-horizontal">
						<input type="hidden" name="businessId" th:value="${session.u_bid}"> 
						<input type="hidden" name="mode" value="POST" id="mode">
						<input type="hidden" name="indexId" value="" id="indexId">
						<input type="hidden" name="innerNums" value="0" id="innerNums">
						<input type="hidden" name="innerGoodsNums" value="0" id="innerGoodsNums">
						<input type="hidden" name="type" value="0" id="type">
						<input type="hidden" name="status" value="0" id="status">
						<input type="hidden" name="deleteFlag" value="0" id="deleteFlag">
						<div class="form-group">
							<label class="col-lg-3 control-label">纳品ID</label>
							<div class="col-lg-9">
								<select class="selectpicker" data-live-search="true" id="entryId" name="entryId" title="请根据纳品ID选择纳品" data-size="5" onchange="wSelectOnchangByEntryId(this)"></select>
								<!-- <input type="text" placeholder="请输入商品SKU" class="form-control" value="NP201811060001"> -->
							</div>
						</div>
						<div class="form-group">
							<label class="col-lg-3 control-label">商品SKU</label>
							<div class="col-lg-9">
								<input type="text" id="sku" name="sku" placeholder="请输入商品SKU" class="form-control" value="">
							</div>
						</div>
						<div class="form-group">
							<label class="col-lg-3 control-label">商品名称</label>
							<div class="col-lg-9">
								<input type="text" placeholder="请输入商品名称"
									class="form-control" id="goodsName" name="goodsName" value="">
							</div>
						</div>
						<div class="form-group">
							<label class="col-lg-3 control-label">商品形状</label>
							<div class="col-lg-9">
								<label class="radio-inline"> <input type="radio"
									value="0" name="goodsType" checked>良品
								</label> <label class="radio-inline"> <input type="radio"
									value="1" name="goodsType">不良品 
							</div>
						</div>
						<div class="form-group">
							<label class="col-lg-3 control-label">入库数量</label>
							<div class="col-lg-9">
								<input type="text" id="nums" name="nums" placeholder="请输入数量" class="form-control">
							</div>
						</div>
						<div class="form-group">
							<label class="col-lg-3 control-label">仓库</label>
							<div class="col-lg-9">
								<!-- <input type="text" placeholder="请输入仓库ID" class="form-control"> -->
								<select class="selectpicker" data-live-search="true" id="depotId" name="depotId" title="请根据仓库" data-size="5" onchange="wSelectOnchangByDepotId(this)"></select>
							</div>
						</div>
						<div class="form-group">
							<label class="col-lg-3 control-label">货架</label>
							<div class="col-lg-9">
								<!-- <input type="text" placeholder="请输入货架ID" class="form-control"> -->
								<select class="selectpicker" data-live-search="true" id="shelvesId" name="shelvesId" title="请根据货架" data-size="5"></select>
							</div>
						</div>
						<div class="form-group">
							<label class="col-lg-3 control-label">有效日期</label>
							<div class="col-lg-9">
								<div class="input-daterange input-group">
									<input type="text" id="validityTime" name="validityTime" placeholder="请输入有效日期" class="form-control">
								</div>
							</div>
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-white" data-dismiss="modal">关闭</button>
					<button type="button" class="btn btn-primary" id="before_save_submit" onclick="saveDetails(1)">保存</button>
					<button type="button" class="btn btn-primary" id="btn_submit" onclick="saveDetails(0)">确认入库</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Mainly scripts -->
	<script th:src="@{/js/jquery-3.1.1.min.js}"></script>

	<script th:src="@{/js/bootstrap.min.js}"></script>
	<script th:src="@{/js/plugins/sweetalert/sweetalert.min.js}"></script>
	<script th:src="@{/js/plugins/metisMenu/jquery.metisMenu.js}"></script>
	<script th:src="@{/js/plugins/slimscroll/jquery.slimscroll.min.js}"></script>

	<!-- Data Tables -->
	<script th:src="@{/js/plugins/dataTables/datatables.min.js}"></script>
	
	<!-- select data -->
	<script th:src="@{/js/bootstrap-select.js}"></script>

	<!-- Peity -->
	<script th:src="@{/js/plugins/peity/jquery.peity.min.js}"></script>

	<!-- Custom and plugin javascript -->
	<script th:src="@{/js/inspinia.js}"></script>
	<script th:src="@{/js/plugins/pace/pace.min.js}"></script>

	<!-- iCheck -->
	<script th:src="@{/js/plugins/iCheck/icheck.min.js}"></script>

	<!-- Peity -->
	<script th:src="@{/js/demo/peity-demo.js}"></script>

	<!-- FooTable -->
	<script th:src="@{/js/plugins/footable/footable.all.min.js}"></script>

	<!-- common -->
	<script th:src="@{/js/common.js}"></script>
	<script th:src="@{/js/jquery.validate.min.js}"></script>
	<!-- Data picker -->
	<script th:src="@{/js/plugins/datapicker/bootstrap-datepicker.js}"></script>
	<!-- detail -->
	<script th:src="@{/js/input/detail.js}"></script>

</body>

</html>
